<!DOCTYPE html>
<html>
	<head>
		<title>Cookies</title>
		<link rel="icon" href="../assets/images/icon.png">
		<meta name="robots" content="noindex">		<style>
		.textbox{
			width: 300px;
			height: 150px;
			text-align: left;
			vertical-align: text-top; <!-->aligns labels to top of text box</!-->
		}
		</style>
	</head>
	<body>
		<label for="cName">Cookie Name:</label>	
		<textarea type="text" id="cName" placeholder = "input name here" class="textbox"></textarea><br><br>
		
		<label for="cContents">Cookie Text:</label>	
		<textarea type="text" id="cContents" placeholder = "input contents here" class="textbox"></textarea><br><br>
		
		<button onclick="AddCookie()">Add Cookie</button>
		<button onclick="RemoveCookie()">Remove Cookie</button>
		
		<select id="addedCookies" name="addedCookies">
			<option value="" disabled selected>Select an option</option>
		</select>

		<script>
			updateCookieMenu();
			function AddCookie() {
				let cName = document.getElementById("cName").value;
				let cContents = document.getElementById("cContents").value;
				document.cookie = cName+"="+cContents+"; path=/";
				updateCookieMenu();
			}
			
			function RemoveCookie() {
				let cName = document.getElementById("cName").value;
				document.cookie = cName+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
				updateCookieMenu();
			}
			function updateCookieMenu() {
				// Set selected option as variable
				console.log("Cookies Updated:")
				console.log(document.cookie)
				console.log(decodeURIComponent(document.cookie))
				splitCookie = document.cookie.split('; ');
				//splitCookie = 'cookie1=this is a test1; cookie2=this is a test2'.split('; ');
				document.getElementById("addedCookies").innerHTML = "";
				document.getElementById("addedCookies").innerHTML += ("<option value='' disabled selected>Select an option</option>");
				for(let i =0;i<splitCookie.length;i++){
					splitCookie[i] = splitCookie[i].split('=')
					document.getElementById("addedCookies").innerHTML += ("<option value='" + i + "'>" + splitCookie[i][0] + "</option>");
				}
			}
			
			document.getElementById("addedCookies").onchange = function() {
				splitCookie = document.cookie.split('; ');
				//splitCookie = 'cookie1=this is a test1; cookie2=this is a test2'.split('; ');
				for(let i =0;i<splitCookie.length;i++){
					splitCookie[i] = splitCookie[i].split('=')
				}
				let index = document.getElementById("addedCookies").value*1;
				document.getElementById("cName").value = splitCookie[index][0];
				document.getElementById("cContents").value = splitCookie[index][1];
			};
		</script>

	</body>
</html>
