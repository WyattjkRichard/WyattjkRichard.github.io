<!DOCTYPE html>
<html>
	<head>
		<title>Unit Conversion</title>
		<link rel="icon" href="../assets/images/icon.png">
		<meta name="robots" content="noindex">
		<style>
			#variable{
				width:350px;
			}
			.inline {
				display: inline-block;
				vertical-align: middle;
			}
			input {
				width:156px;
				display: block;
			}
			select{
				width:164px;
				display: block;
			}
			
		</style>
	</head>
	<body>	
		<div>
			<select id="variable" name="variable">
				<option value="" disabled selected>Select an option</option>
				<option value="length">Length</option>
				<option value="time">Time</option>
			</select>
		</div>
		<div>
			<div class="inline">
				<input type="number" id="value1" value = "0">
				<select id="input1">
					<option value="" disabled selected>Select an option</option>
				</select>
			</div>
			<div class="inline">
				<h2 style = "display: inline-block">=</h2>
			</div>
			<div class="inline">
				<input type="number" id="value2" value = "0">
				<select id="input2">
					<option value="" disabled selected>Select an option</option>
				</select>
			</div>
		</div>
		
		<script>
			// Map your choices to your option value
			var lookup = {
				'length': ['kilometer', 'meter', 'centimeter', 'milimeter', 'micrometer', 'nanometer',  'mile',  'yard',  'foot',  'inch',  'nautical mile',  'banana', 'furlong', 'smoot', 'lightyear', 'sheppey', 'hammer unit','earth radius','astronomical unit', 'parsec'],
				'time': ['second', 'minute'],
				'Option 3': ['Option 3 - Choice 1'],
			};
			var values = {
				'kilometer': 1000,
				'meter': 1,
				'centimeter': 0.01,
				'milimeter': 0.001,
				'micrometer': 0.000001,
				'nanometer': 0.000000001,
				'mile':1609.34,
				'yard':0.9144,
				'foot':0.3048,
				'inch':0.0254,
				'nautical mile':1852,
				'banana':0.15,
				'furlong':201.168,
				'smoot':1.7018,							// the height in 1958 of Oliver R. Smoot
				'lightyear': 9460730472580800,
				'sheppey': 1408.18,						// roughly 7/8 of a mile
				'hammer unit': 0.01905,					// exact
				'earth radius':6371000,					// exact
				'astronomical unit':149597870700,		// exact
				'parsec': (149597870700*648000)/Math.PI,// exact
				'second':1/60,
				'minute':1,
				
			};

			
			// When an option is changed, search the above for matching choices
			document.getElementById("variable").onchange = function() {updateInput()};
			function updateInput() {
				// Set selected option as variable
				var selectValue = document.getElementById("variable").value;
				//console.log(selectValue);
				
				// Empty the target field
				document.getElementById("input1").innerHTML = "";
				document.getElementById("input1").innerHTML += ("<option value='' disabled selected>Select an option</option>");
				
				// For each chocie in the selected option
				for (i = 0; i < lookup[selectValue].length; i++) {
					// Output choice in the target field
					document.getElementById("input1").innerHTML += ("<option value='" + lookup[selectValue][i] + "'>" + lookup[selectValue][i] + "</option>");
				}
				document.getElementById("input2").innerHTML = document.getElementById("input1").innerHTML;
				document.getElementById("value1").value = 0;
				document.getElementById("value2").value = 0;
			}
			
			document.getElementById("input1").onchange = function() {updateValue2()};
			document.getElementById("value1").onchange = function() {updateValue2()};
			
			function updateValue2() {
				if(document.getElementById("input1").value!=""&&document.getElementById("input2").value!=""){
					document.getElementById("value2").value = document.getElementById("value1").value * values[document.getElementById("input1").value] / values[document.getElementById("input2").value]
				}
			}
			
			document.getElementById("input2").onchange = function() {updateValue1()};
			document.getElementById("value2").onchange = function() {updateValue1()};
			
			function updateValue1() {
				if(document.getElementById("input1").value!=""&&document.getElementById("input2").value!=""){
					document.getElementById("value1").value = document.getElementById("value2").value * values[document.getElementById("input2").value] / values[document.getElementById("input1").value]
				}
			}
			
		</script>
		
	</body>
</html>
