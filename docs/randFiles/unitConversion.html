<!DOCTYPE html>
<html>
	<head>
		<title>Unit Conversion</title>
		<link rel="icon" href="../assets/images/icon.png">
		<meta name="robots" content="noindex">
		<style>
			#variable{
				width:350px;
			}
			.inline {
				display: inline-block;
				vertical-align: middle;
			}
			input {
				width:156px;
				display: block;
			}
			select{
				width:164px;
				display: block;
			}
			
		</style>
	</head>
	<body>	
		<div>
			<select id="variable" name="variable">
				<option value="" disabled selected>Select an option</option>
				<option value="length">Length</option>
				<option value="time">Time</option>
				<option value="digital storage">Digital Storage</option>
				<option value="temperature">Temperature</option>
			</select>
		</div>
		<div>
			<div class="inline">
				<input type="number" id="value0" value = "0">
				<select id="input0">
					<option value="" disabled selected>Select an option</option>
				</select>
			</div>
			<div class="inline">
				<h2 style = "display: inline-block;">=</h2>
			</div>
			<div class="inline">
				<input type="number" id="value1" value = "0">
				<select id="input1">
					<option value="" disabled selected>Select an option</option>
				</select>
				
			</div>
		</div>
		<p id="p0"></p>
		<p id="p1"></p>
		<script>
			// Map your choices to your option value
			var lookup = {
				'length': { //in metres
					'planck length':{
						name: 'planck length',
						value: (1.616255 * 10**(-35)),
						description: "<b>planck length:</b> "
					},
					'quectometre':{
						name: 'quectometre',
						value: 10**(-30),
						description: "<b>quectometre:</b> "
					},
					'rontometre':{
						name: 'rontometre',
						value: 10**(-27),
						description: "<b>rontometre:</b> "
					},
					'yoctometre':{
						name: 'yoctometre',
						value: 10**(-24),
						description: "<b>yoctometre:</b> "
					},
					'zeptometre':{
						name: 'zeptometre',
						value: 10**(-21),
						description: "<b>zeptometre:</b> "
					},
					'attometre':{
						name: 'attometre',
						value: 10**(-18),
						description: "<b>attometre:</b> "
					},
					'femtometre':{
						name: 'femtometre',
						value: 10**(-15),
						description: "<b>femtometre:</b> a unit of length equal to one quadrillionth of a metre"
					},
					'picometre':{
						name: 'picometre',
						value: 10**(-12),
						description: "<b>picometre:</b> a unit of length equal to one trillionth of a metre"
					},
					'nanometre':{
						name: 'nanometre',
						value: 10**(-9),
						description: "<b>nanometre:</b> a unit of length equal to one billionth of a metre"
					},
					'micrometre':{
						name: 'micrometre',
						value: 0.000001,
						description: "<b>micrometre:</b> "
					},
					'milimetre':{
						name: 'milimetre',
						value: 0.001,
						description: "<b>milimetre:</b> "
					},
					'centimetre':{
						name: 'centimetre',
						value: 0.01,
						description: "<b>centimetre:</b> "
					},
					'decimetre':{
						name: 'decimetre',
						value: 0.1,
						description: "<b>decimetre:</b> "
					},
					'metre':{
						name: 'metre',
						value: 1,
						description: "<b>metre:</b> the SI base unit of length"
					},
					'decametre':{
						name: 'decametre',
						value: 10,
						description: "<b>decametre:</b> "
					},
					'hectometre':{
						name: 'hectometre',
						value: 100,
						description: "<b>hectometre:</b> "
					},
					'kilometre':{
						name: 'kilometre',
						value: 1000,							
						description: "<b>kilometre:</b> a metric unit of length equal to 1,000 meters"
					},
					'megametre':{
						name: 'megametre',
						value: 1000000,						
						description: "<b>megametre:</b> "
					},
					'gigametre':{
						name: 'gigametre',
						value: 10**9,						
						description: "<b>gigametre:</b> "
					},
					'terametre':{
						name: 'terametre',
						value: 10**12,					
						description: "<b>terametre:</b> "
					},
					'petametre':{
						name: 'petametre',
						value: 10**15,				
						description: "<b>petametre:</b> "
					},
					'exametre':{
						name: 'exametre',
						value: 10**18,			
						description: "<b>exametre:</b> "
					},
					'zettametre':{
						name: 'zettametre',
						value: 10**21,			
						description: "<b>zettametre:</b> "
					},
					'yottametre':{
						name: 'yottametre',
						value: 10**24,		
						description: "<b>yottametre:</b> "
					},
					'ronnametre':{
						name: 'ronnametre',
						value: 10**27,	
						description: "<b>ronnametre:</b> "
					},
					'inch':{
						name: 'inch',
						value: 0.0254,
						description: "<b>inch:</b> "
					},
					'foot':{
						name: 'foot',
						value: 0.3048,
						description: "<b>foot:</b> "
					},
					'yard':{
						name: 'yard',
						value: 0.9144,
						description: "<b>yard:</b> "
					},
					'mile':{
						name: 'mile',
						value: 1609.344,
						description: "<b>mile:</b> "
					},
					'nautical mile':{
						name: 'nautical mile',
						value: 1852,
						description: "<b>nautical mile:</b> "
					},
					'banana':{
						name: 'banana',
						value: 0.15,
						description: "<b>banana:</b> "
					},
					'furlong':{
						name: 'furlong',
						value: 201.168,
						description: "<b>furlong:</b> "
					},
					'smoot':{
						name: 'smoot',
						value: 1.7018,
						description: "<b>smoot:</b> "
					},
					'lightyear':{
						name: 'lightyear',
						value: 9460730472580800,
						description: "<b>lightyear:</b> "
					},
					'sheppey':{
						name: 'sheppey',
						value: 1408.18,
						description: "<b>sheppey:</b> "
					},
					'hammer unit':{
						name: 'hammer unit',
						value: 0.01905,
						description: "<b>hammer unit:</b> "
					},
					'earth radius':{
						name: 'earth radius',
						value: 6371000,
						description: "<b>earth radius:</b> "
					},
					'astronomical unit':{
						name: 'astronomical unit',
						value: 149597870700,
						description: "<b>astronomical unit:</b> "
					},
					'parsec':{
						name: 'parsec',
						value: (149597870700*648000)/Math.PI,
						description: "<b>parsec:</b> "
					}
				},
				'time': {
					'nanosecond':{
						name: 'nanosecond',
						value: 1/60000000000,
						description: "<b>nanosecond:</b> "
					},
					'microsecond': {
						name: 'microsecond',
						value: 1/60000000,
						description: "<b>microsecond:</b> "
						},
					'millisecond': {
						name: 'millisecond',
						value:  1/60000,
						description: "<b>millisecond:</b> "
						},
					'second': {
						name: 'second',
						value:  1/60,
						description: "<b>second:</b> "
						},
					'minute': {
						name: 'minute',
						value:  1,
						description: "<b>minute:</b> "
						},
					'hour': {
						name: 'hour',
						value:  60,
						description: "<b>hour:</b> "
						},
					'day': {
						name: 'day',
						value:  1440,
						description: "<b>day:</b> "
						},
					'week': {
						name: 'week',
						value:  10080,
						description: "<b>week:</b> "
						},
					'fortnight': {
						name: 'fortnight',
						value:  20160,
						description: "<b>fortnight:</b> "
						},
					'month': {
						name: 'month',
						value: 43800,
						description: "<b>month:</b> "
						},
					'calendar year': {
						name: 'calendar year',
						value: 525600,
						description: "<b>calendar year:</b> "
						},
					'decade': {
						name: 'decade',
						value: 5256000,
						description: "<b>decade:</b> "
						},
					'century': {
						name: 'century',
						value: 52560000,
						description: "<b>century:</b> "
						},
					'shake': {
						name: 'shake',
						value: 1/6000000000,
						description: "<b>shake:</b> "
						},
					'sol': {
						name: 'sol',
						value: 1479+(35/60),
						description: "<b>sol:</b> "
						},
				},
				'digital storage': {
					'bit': {
						name: 'bit',
						value: 1,
						description: "<b>bit:</b> "
					},
					'crumb': {
						name: 'crumb',
						value: 2,
						description: "<b>crumb:</b> "
					},
					'nibble': {
						name: 'nibble',
						value: 4,
						description: "<b>nibble:</b> "
					},
					'byte': {
						name: 'byte',
						value: 8,
						description: "<b>byte:</b> "
					},
					'word': {
						name: 'word',
						value: 16,
						description: "<b>word:</b> "
					}
				},
				'temperature': {
					'celsius': {
						name: 'celsius',
						toValue: 'x',
						fromValue: 'x',
						description: "<b>celsius:</b> "
						},
					'fahrenheit': {
						name: 'fahrenheit',
						toValue: '(x-32)*5/9',
						fromValue: '(x*(9/5))+32',
						description: "<b>fahrenheit:</b> "
						},
					'kelvin': {
						name: 'kelvin',
						toValue: 'x-273.15',
						fromValue: '+x+273.15',
						description: "<b>kelvin:</b> "
						},
					'rankine': {
						name: 'rankine',
						toValue: '(x-491.67)*5/9',
						fromValue: 'x*(9/5)+491.67',
						description: "<b>rankine:</b> "
						},
					'reaumur': {
						name: 'reaumur',
						toValue: 'x*(5/4)',
						fromValue: 'x*(4/5)',
						description: "<b>reaumur:</b> "
						}
				},
			};
			
			let lastUpdated = 0;
			
			// When an option is changed, search the above for matching choices
			document.getElementById("variable").onchange = function() {updateInput()};
			function updateInput() {
				// Set selected option as variable
				var selectValue = document.getElementById("variable").value;
				
				// Empty the target field
				document.getElementById("input1").innerHTML = "";
				document.getElementById("input1").innerHTML += ("<option value='' disabled selected>Select an option</option>");
				
				// For each choice in the selected option
				for (const key in lookup[selectValue]) {
					//console.log(lookup[selectValue][key].name);
					document.getElementById("input1").innerHTML += ("<option value='" + lookup[selectValue][key].name + "'>" + lookup[selectValue][key].name + "</option>");
				}

				document.getElementById("input0").innerHTML = document.getElementById("input1").innerHTML;
				document.getElementById("value0").value = 0;
				document.getElementById("value1").value = 0;
				document.getElementById("p0").innerHTML = ""
				document.getElementById("p1").innerHTML = ""
			}
			
			document.getElementById("input1").onchange = function() {
				updateValue();
				updateDescription();
			};
			document.getElementById("value1").onchange = function() {
				lastUpdated = 1;
				updateValue();
			};
			document.getElementById("input0").onchange = function() {
				updateValue();
				updateDescription();
			};
			document.getElementById("value0").onchange = function() {
				lastUpdated = 0;
				updateValue();
			};
			
			function updateValue() {
				if(document.getElementById("input1").value!=""&&document.getElementById("input0").value!=""){
					if(document.getElementById("variable").value == 'temperature'){
						if(lastUpdated){
							let x = document.getElementById("value1").value;
							x = eval(lookup[document.getElementById("variable").value][document.getElementById("input1").value].toValue);
							document.getElementById("value0").value = eval(lookup[document.getElementById("variable").value][document.getElementById("input0").value].fromValue);
						}else{
							let x = document.getElementById("value0").value;
							x = eval(lookup[document.getElementById("variable").value][document.getElementById("input0").value].toValue);
							document.getElementById("value1").value = eval(lookup[document.getElementById("variable").value][document.getElementById("input1").value].fromValue);
						}
						
					}
					else{
						if(lastUpdated){
							document.getElementById("value0").value = document.getElementById("value1").value * lookup[document.getElementById("variable").value][document.getElementById("input1").value].value / lookup[document.getElementById("variable").value][document.getElementById("input0").value].value;
						}else{
							document.getElementById("value1").value = document.getElementById("value0").value * lookup[document.getElementById("variable").value][document.getElementById("input0").value].value / lookup[document.getElementById("variable").value][document.getElementById("input1").value].value;
						}
					}
				}
			}
			
			function updateDescription(){
				if(document.getElementById("input0").value!=""){
					document.getElementById("p0").innerHTML = lookup[document.getElementById("variable").value][document.getElementById("input0").value].description
				}
				if(document.getElementById("input1").value!=""){
					document.getElementById("p1").innerHTML = lookup[document.getElementById("variable").value][document.getElementById("input1").value].description
				}
				if(document.getElementById("input1").value == document.getElementById("input0").value){
					document.getElementById("p1").innerHTML = ""
				}
			}
			
		</script>
		
	</body>
</html>
